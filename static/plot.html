<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map</title>
  <script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script>
</head>
<body>
  <div id="map" style="width:600px;height:250px;"></div>
  
  <!-- {

    points: [{
  
      curveNumber: 2,  // index in data of the trace associated with the selected point
  
      pointNumber: 2,  // index of the selected point
  
      lat: 50,        // latitude value
  
      lon: -12,      // longitude value
  
      data: {/* */},       // ref to the trace as sent to Plotly.newPlot associated with the selected point
  
      fullData: {/* */},   // ref to the trace including all of the default attributes
  
      location:       //
  
    }, {
  
      /* similarly for other selected points */
  
    }]
  
  } -->
  
  <script>
    /*TESTER = document.getElementById('tester');
    Plotly.newPlot( TESTER, [{
    x: [1, 2, 3, 4, 5],
    y: [1, 2, 4, 8, 16] }], {
    margin: { t: 0 } } );*/
    /*
    * The following events emit event data: plotly_click, plotly_hover, plotly_unhover,
    * plotly_selecting, and plotly_selected. 
    * src: https://plotly.com/javascript/plotlyjs-events/
    */

    const map = document.querySelector("#map");
    
    const render = async () => {
      const r = await fetch('plot.json');
      data = await r.json();
      //console.dir(data);

      Plotly.newPlot(map, data);
      
      map.on('plotly_click', (e) => {
        alert('clicked on trace!')
        console.dir(map._fullData)
      });
      
    }
    
    render();
  </script>
</body>
</html>